<!DOCTYPE html>
<html>

<head>
    <title>RTL Direction Extension Options</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
        }

        .list {
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>RTL Direction Extension Options</h1>
        <label>
            <input type="radio" name="mode" value="blacklist" checked> Blacklist
        </label>
        <label>
            <input type="radio" name="mode" value="whitelist"> Whitelist
        </label>
        <div class="list">
            <h2>Blacklist</h2>
            <textarea id="blacklist" rows="10" cols="50"></textarea>
        </div>
        <div class="list">
            <h2>Whitelist</h2>
            <textarea id="whitelist" rows="10" cols="50"></textarea>
        </div>
        <button id="save">Save</button>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            chrome.storage.sync.get(['mode', 'blacklist', 'whitelist'], (data) => {
                document.querySelector(`input[name="mode"][value="${data.mode}"]`).checked = true;
                document.getElementById('blacklist').value = data.blacklist.join('\n');
                document.getElementById('whitelist').value = data.whitelist.join('\n');
            });

            document.getElementById('save').addEventListener('click', () => {
                const mode = document.querySelector('input[name="mode"]:checked').value;
                const blacklist = document.getElementById('blacklist').value.split('\n').filter(Boolean);
                const whitelist = document.getElementById('whitelist').value.split('\n').filter(Boolean);

                chrome.storage.sync.set({ mode, blacklist, whitelist }, () => {
                    alert('Options saved');
                });
            });
        });
    </script>
</body>

</html>